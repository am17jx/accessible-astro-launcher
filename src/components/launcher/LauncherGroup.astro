---
/**
 * LauncherGroup Component
 *
 * @description An optional grouping wrapper for launcher items with a label
 */

interface Props {
  /**
   * Group label displayed as a heading
   */
  label: string
  /**
   * Additional classes to apply
   */
  class?: string
  /**
   * HTML attributes to spread on the group
   */
  [key: string]: string | undefined
}

const { label, class: className, ...rest } = Astro.props

// Generate unique ID for aria-labelledby
const groupId = `launcher-group-${Math.random().toString(36).substring(2, 9)}`
---

<div class:list={['launcher-group', className]} role="group" aria-labelledby={groupId} {...rest}>
  <span id={groupId} class="label">{label}</span>
  <ul role="presentation" class="items">
    <slot />
  </ul>
</div>

<style>
  :where(.launcher-group) {
    display: flex;
    flex-direction: column;
    gap: var(--launcher-space-xs);
    margin-block-start: var(--launcher-space-md);
    list-style: none;
  }

  :where(.launcher-group:first-child) {
    margin-block-start: var(--launcher-space-lg);
  }

  :where(.label) {
    display: block;
    padding-inline: var(--launcher-space-md);
    padding-block-start: var(--launcher-space-xs);
    color: var(--launcher-subtle-text-color);
    font-weight: 600;
    font-size: var(--launcher-font-size-sm);
    line-height: var(--launcher-line-height);
    letter-spacing: 0.075em;
    text-transform: uppercase;
  }

  :where(.items) {
    display: flex;
    flex-direction: column;
    padding-inline: var(--launcher-space-xs);
    list-style: none;
  }
</style>
